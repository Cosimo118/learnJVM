+ jdk还提供了两个功能强大的可视化工具，JConsole和VisualVM

### 4.3.1 JConsole: java监视与管理控制台

+ JConsole(java monitoring and management console)是一种基于JMX的可视化监视、管理工具
+ 这里主要介绍监视功能：
  + 内存监控：相当于可视化的jstat命令，用于监视受收集器管理的虚拟机内存(java堆和永久代)的变化趋势
  + 线程监控：相当于可视化的jstack命令，遇到线程停顿时可以用其进行监控分析，线程长时间停顿的主要原因有：
    + 等待外部资源(数据库连接、网络资源、设备资源):检测到流没有更新后会立刻归还执行令牌，消耗很少的cpu资源
    + 死循环：在死循环上用尽全部执行时间直到线程切换，会消耗较多的cpu资源
    + 锁等待(死锁和活锁)：
      + 活锁：在等待lock对象的notify方法时，线程处于WAITING状态，被唤醒前不会分配执行时间
      + 死锁：会出现死锁按钮，可以查看哪些线程之间发生了死锁

### 4.3.2 VisualVM: 多合一故障处理工具

+ 通过插件扩展支持，VisualVM可以做到：
  + 显示虚拟机进程以及进程的配置、环境信息(jps,jinfo)
  + 监视应用程序的cpu,gc,堆，方法去以及线程的信息(jstat,jstack)
  + dump以及分析堆转储快照(jmap,jhat)
  + 方法级的程序运行性能分析，找出被调用最多，运行时间最长的方法
  + 离线程序快照：收集程序的运行时配置、线程dump、内存dump等信息建立一个快照，可以将快照发送开发者处进行bug反馈
  + 其他plugins的无限可能性...